---
# Mandatory variables
es_cluster_name: ~
# what hos to connect to in cluster
es_master_port: 9300
es_master_nodes: ~
es_master_nodes_and_ports: '{{ es_master_nodes | map("regex_replace", "(.*)", "\1:"+es_master_port|string) | list }}'
es_min_master_nodes: '{{ ((es_master_nodes | length / 2) | round(0, "floor") | int)+1 }}'

es_image: 'docker.elastic.co/elasticsearch/elasticsearch-oss:6.5.1'
es_api_port: 9200
es_node_port: 9300
es_listen_addr: '0.0.0.0'

es_cont_name: elasticsearch
es_docker_dir: '/docker/{{ es_cont_name }}'

es_number_of_replicas: 2
es_number_of_shards: '{{ (es_master_nodes | length) * 2 }}'

es_cont_uid: 1000
es_host_uid: '{{ 100000 + es_cont_uid - 1 | int }}'

es_max_map_count: 262144
es_jvm_min_heap: 2g
es_jvm_max_heap: 2g

# WARNING: These links are legacy and might stop working at some point.
geoip_url: 'http://geolite.maxmind.com/download/geoip/database'
geoip_dbs:
  - GeoLite2-City.mmdb.gz
  - GeoLite2-Country.mmdb.gz

# generic container variables
cont_state: started
cont_recreate: false
cont_restart: false
